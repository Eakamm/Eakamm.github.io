<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pandas基础（一） | 刘志豪的博客</title>
<meta name="description" content="温故而知新" />
<link rel="shortcut icon" href="https://Eakamm.github.io/favicon.ico">
<link rel="stylesheet" href="https://Eakamm.github.io/styles/main.css">

<script src="https://Eakamm.github.io/media/js/jquery.min.js"></script>
<script src="https://Eakamm.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://Eakamm.github.io/media/js/aos.js"></script>
<script src="https://Eakamm.github.io/media/js/pace.min.js"></script>
<script src="https://Eakamm.github.io/media/js/view-image.min.js"></script>
<script src="https://Eakamm.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://Eakamm.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="Pandas是一个强大的分析结构化数据的工具集；它的使用基础是Numpy（提供高性能的矩阵运算）；用于数据挖掘和数据分析，同时也提供数据清洗功能。

1、Servies
pandas创建一个一维数组
import pandas as pd
..." />
    <meta name="keywords" content="Python,Pandas,数据处理" />
    <script src="https://Eakamm.github.io/media/js/waterfall.min.js"></script>
    <script src="https://Eakamm.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://Eakamm.github.io"><img src="\media\images\custom-headerLogo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://Eakamm.github.io" class="menu">首页</a></li>
                
                  <li class="" >
                    <a href="/" class="menu">
                      首页
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      归档
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      标签
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      关于
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1615187510864" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="搜点啥..." aria-label="搜点啥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://Eakamm.github.io/post-images/pandas-ji-chu-yi.jpg');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2020-09-25"><i class="fa fa-calendar"></i><span class="lately">5 个月前</span></time>
              
              <a href="https://Eakamm.github.io/post/pandas-ji-chu-yi/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/pandas-ji-chu-yi/"> </span>
              </a>
              <span id="/pandas-ji-chu-yi/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://Eakamm.github.io/tag/aYAE_85kY/" class="ctag ctag-0 ctag-aYAE_85kY" aria-label="">Python</a>
                    
                      <a href="https://Eakamm.github.io/tag/eVLL_p5ATD/" class="ctag ctag-1 ctag-eVLL_p5ATD" aria-label="">Pandas</a>
                    
                      <a href="https://Eakamm.github.io/tag/m13UWVHSwx/" class="ctag ctag-2 ctag-m13UWVHSwx" aria-label="">数据处理</a>
                    
              </div>
              <h1 class="title ularge white bold">Pandas基础（一）</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <p>Pandas是一个强大的分析结构化数据的工具集；它的使用基础是Numpy（提供高性能的矩阵运算）；用于数据挖掘和数据分析，同时也提供数据清洗功能。</p>
<!-- more -->
<h2 id="1-servies">1、Servies</h2>
<p>pandas创建一个一维数组</p>
<pre><code class="language-python{cmd}">import pandas as pd
import numpy as np

s = pd.Series(['a', 'b', 'c'], index=[1, 2, 3])

# 获取索引序列
print(s.index)

# 根据索引查找数据
print(s[1])
s[1] = &quot;e&quot;
print(s[1])

print('----------------------------------')
# 多个索引或值查找
s2 = pd.Series([1, 2, 6], index=['a', 'b', 'c'])
# 自定义的索引('a', 'b', 'c')
print(s2[['a', 'b']])
# 第n行(0,1,2)
print(s2[[1, 2]])
# 值小于等于n
print(s2[s2 &lt;= 3])

print('----------------------------------')
# in判断索引是否存在
print(1 in s)

</code></pre>
<p>通过<code>.index</code>改变索引</p>
<pre><code class="language-python"># Series的索引可以通过按位置赋值的方式进行改变
s.index = ['a','b','c']
</code></pre>
<p>Python切片中是不包含尾部的，Series的自定义字符串索引的切片与之不同.</p>
<pre><code class="language-python">import pandas as pd
import numpy as np

# 字符串索引
s = pd.Series([1,2,3], index=['a', 'b', 'c'])
# 数字索引
s1 = pd.Series([1,2,3], index=[1, 2, 3])
s2 = [1,2,3]
print(s2[0:1])
# 根据行数做切片与普通数组的切片相同
print(s1[1:2])
# 自定义字符串索引包含尾部
print(s['a':'b'])

# 可以使用切片更改数据
s['a':'b'] = 4
print(s)
</code></pre>
<h2 id="2-dataframe">2、DataFrame</h2>
<h3 id="21-创建">2.1、创建</h3>
<p>最常用的方式是利用包含等长度列表或NumPy数组的字典来形成DataFrame(某一列没有赋值，会出现缺省值NaN)</p>
<pre><code class="language-python">import pandas as pd

data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada', 'Nevada'],
        'year': [2000, 2001, 2002, 2001, 2002, 2003],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9, 3.2]}
frame = pd.DataFrame(data)

print(frame)
</code></pre>
<p>设置列名与行名，<code>debt</code>列为空，为NaN</p>
<pre><code class="language-python">&gt;&gt;&gt; frame2 = pd.DataFrame(data, columns=['year', 'state', 'pop', 'debt'],
...                       index=['one', 'two', 'three', 'four',
...                              'five', 'six'])
&gt;&gt;&gt; frame2
one    2000    Ohio  1.5  NaN
two    2001    Ohio  1.7  NaN
three  2002    Ohio  3.6  NaN
four   2001  Nevada  2.4  NaN
five   2002  Nevada  2.9  NaN
six    2003  Nevada  3.2  NaN
</code></pre>
<h3 id="22-查找">2.2、查找</h3>
<p><code>loc[]</code>获取某一行的数据</p>
<pre><code class="language-python">import pandas as pd

data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada', 'Nevada'],
        'year': [2000, 2001, 2002, 2001, 2002, 2003],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9, 3.2]}
frame = pd.DataFrame(data)

# 查找某一行
print(frame)
print(frame.loc[1])

# 多个索引查找


# 创建新的一列
frame['test'] = frame.state == 'Ohio'
print(frame)
# 删除一列
del frame['test']
print(frame.columns)
</code></pre>
<h3 id="23-根据布尔值切片">2.3、根据布尔值切片</h3>
<p>可以根据一个布尔值数组选择数据，也可以比较所有的元素，对符合要求的元素执行操作。</p>
<pre><code class="language-python{cmd}">import pandas as pd
import numpy as np
frame = pd.DataFrame(np.arange(20).reshape(4, 5),
                      index=list('abcd'),
                      columns=list('abcde'))
# frame &lt; 5
print(frame &lt; 5)
# 将小于5的元素改为0
frame[frame &lt; 5] = 0
print(frame)
# 根据列的比较结果显示数据
print(frame[frame['b'] &gt; 10])

print(frame)
</code></pre>
<h3 id="24-loc与iloc索引">2.4、loc与iloc索引</h3>
<p>标签选出单行多列的数据可以使用<code>loc</code>（也就是自定义的索引）</p>
<pre><code class="language-python">import numpy as np
import pandas as pd

frame = pd.DataFrame(np.arange(20).reshape(4, 5),
                      index=list('abcd'),
                      columns=list('abcde'))
# 获取某一行
print(frame.loc['a'])
# 获取某一行的n列数据
print(frame.loc['a',['a', 'b']])
# 
print(frame.loc[['a','b'],['a', 'b']])
</code></pre>
<p>整数标签<code>iloc</code>进行类似的数据选择</p>
<pre><code class="language-python">import numpy as np
import pandas as pd

frame = pd.DataFrame(np.arange(20).reshape(4, 5),
                      index=list('abcd'),
                      columns=list('abcde'))
print(frame.iloc[1])

print(frame.iloc[1,[1,2]])

print(frame.iloc[[1,2],[1,2]])
</code></pre>
<h3 id="25-整数索引问题">2.5、整数索引问题</h3>
<pre><code class="language-python">import numpy as np
import pandas as pd


</code></pre>
<p>当使用字符串的索引就不会对s[-1]产生歧义</p>
<p>所以你有一个包含整数的轴索引，数据选择时请始终使用标签索引。</p>
<h3 id="26-广播机制">2.6、广播机制</h3>
<h3 id="27-函数">2.7、函数</h3>
<p>使用<code>apply</code>可以取出每一行或每一列的元素。<code>axis = 'columns'</code>取出每一行，以行为索引。默认为列。<br>
可以使用函数对数据进行更复杂的操作</p>
<pre><code class="language-python">import numpy as np
import pandas as pd

df = pd.DataFrame(np.arange(20).reshape(4, 5),
                  columns=list('abcde'))

# 求每组数据的最大最小值的差


def f(x): return x.max()-x.min()


# 默认为取出每列
series = df.apply(f)
print(series)

# 取出每行
series = df.apply(f, axis=&quot;columns&quot;)
print(series)
</code></pre>
<p>使用<code>applymap</code>取出每个元素</p>
<pre><code class="language-python">import numpy as np
import pandas as pd

df = pd.DataFrame(np.arange(20).reshape(4, 5),
                  columns=list('abcde'))
# 处理所有的元素
# 求平方
def f2(x): return x**2


data_frame = df.applymap(f2)
print(data_frame)

# 处理某一行
data_frame = df.loc[1].map(f2)
print(data_frame)
</code></pre>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://Eakamm.github.io/post-images/js-zhong-tiao-chu-foreach-xun-huan.jpg');"></div>
                 <a href="https://Eakamm.github.io/post/js-zhong-tiao-chu-foreach-xun-huan/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-09-27">2020-09-27</time>
                  <h4 class="title white no-margin">js中跳出forEach循环</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://Eakamm.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://Eakamm.github.io/post-images/chang-yong-shu-zi-zheng-ze-biao-da-shi.jpg');"></div>
                 <a href="https://Eakamm.github.io/post/chang-yong-shu-zi-zheng-ze-biao-da-shi/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-09-11">2020-09-11</time>
                  <h4 class="title white no-margin">常用数字正则表达式</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://Eakamm.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                <div class="clear"></div>
<script>
jQuery(document).ready(function($){
    $('.vemoji-btn').text('😀');
    $("#comments").on('click', 'span.vat',function(){
        $(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
        $('textarea#veditor').focus();
    })
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
                $('html, body').animate({scrollTop: $(window.location.hash).offset().top-200}, 600);
                clearInterval(checkExist);
            }
        }, 100);
    }
})
</script>

              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">最新文章</h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/mysql-chang-yong-shi-jian-cha-xun/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-03-08">2021-03-08</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/mysql-chang-yong-shi-jian-cha-xun/">Mysql常用时间查询</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/xml-zhong-bu-neng-chu-xian-lessdao-zhi-mybatis-de-mapper-wu-fa-shi-yong-sql-de-less/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-03-05">2021-03-05</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/xml-zhong-bu-neng-chu-xian-lessdao-zhi-mybatis-de-mapper-wu-fa-shi-yong-sql-de-less/">XML中不能出现&lt;,导致Mybatis的Mapper无法使用sql的&lt;</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/sql-jin-liang-bi-mian-shi-yong-in-huo-not-in/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://Eakamm.github.io/post-images/sql-jin-liang-bi-mian-shi-yong-in-huo-not-in.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-01-07">2021-01-07</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/sql-jin-liang-bi-mian-shi-yong-in-huo-not-in/">Sql 尽量避免使用IN或NOT IN</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">标签云</h4>
                  <div class="tagcloud">
                    
                      <a href="https://Eakamm.github.io/tag/xmFdSMSrZ/" class="ctag ctag-0 ctag-xmFdSMSrZ" aria-label="">Mysql</a>
                    
                      <a href="https://Eakamm.github.io/tag/DuyR84tOfM/" class="ctag ctag-1 ctag-DuyR84tOfM" aria-label="">数据库</a>
                    
                      <a href="https://Eakamm.github.io/tag/VVAqyIHur/" class="ctag ctag-2 ctag-VVAqyIHur" aria-label="">坑</a>
                    
                      <a href="https://Eakamm.github.io/tag/OdKZfGOT_/" class="ctag ctag-3 ctag-OdKZfGOT_" aria-label="">SpringBoot</a>
                    
                      <a href="https://Eakamm.github.io/tag/ZX_BGyWbN/" class="ctag ctag-4 ctag-ZX_BGyWbN" aria-label="">Java</a>
                    
                      <a href="https://Eakamm.github.io/tag/G_-kZffdc/" class="ctag ctag-5 ctag-G_-kZffdc" aria-label="">Quartz</a>
                    
                      <a href="https://Eakamm.github.io/tag/tjl78Jr5n/" class="ctag ctag-6 ctag-tjl78Jr5n" aria-label="">JavaScript</a>
                    
                      <a href="https://Eakamm.github.io/tag/aYAE_85kY/" class="ctag ctag-7 ctag-aYAE_85kY" aria-label="">Python</a>
                    
                      <a href="https://Eakamm.github.io/tag/eVLL_p5ATD/" class="ctag ctag-8 ctag-eVLL_p5ATD" aria-label="">Pandas</a>
                    
                      <a href="https://Eakamm.github.io/tag/m13UWVHSwx/" class="ctag ctag-9 ctag-m13UWVHSwx" aria-label="">数据处理</a>
                    
                      <a href="https://Eakamm.github.io/tag/omXAxMDe7/" class="ctag ctag-10 ctag-omXAxMDe7" aria-label="">其他</a>
                    
                      <a href="https://Eakamm.github.io/tag/oOLukB2Rlq/" class="ctag ctag-11 ctag-oOLukB2Rlq" aria-label="">Spring</a>
                    
                      <a href="https://Eakamm.github.io/tag/Lo0Xud3TPi/" class="ctag ctag-12 ctag-Lo0Xud3TPi" aria-label="">ES6</a>
                    
                      <a href="https://Eakamm.github.io/tag/ocKSi1PBm/" class="ctag ctag-13 ctag-ocKSi1PBm" aria-label="">UI</a>
                    
                      <a href="https://Eakamm.github.io/tag/bYITpN4Lrh/" class="ctag ctag-14 ctag-bYITpN4Lrh" aria-label="">前端</a>
                    
                      <a href="https://Eakamm.github.io/tag/c5epEfQ21/" class="ctag ctag-15 ctag-c5epEfQ21" aria-label="">Gridea</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">关于我</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://Eakamm.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">刘志豪的博客</a></h4>
                    <p class="founder">温故而知新</p>
                    <div class="social">
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://Eakamm.github.io"><img src="/media/images/gridea.png" alt=""></a>
        </div>
        <p class="published border-effect">
          ©2019 共 21 篇文章
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">「breek」</a> Powered by <a href="https://gridea.dev/" target="_blank">「Gridea」</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/valine/1.3.10/Valine.Pure.min.js"></script>
<script>
    new Valine({
        el: '#comments',
        appId: 'jxTT3ina1NIYw5eMOamocnW5-gzGzoHsz' ,
        appKey: 'uUuJe7kNJCFlYliQY6FgscNi',
        pageSize: 30,
        placeholder: '既然来了，那就留个痕迹吧~',
        visitor: false // 阅读量统计
    })
</script>
    

      
    <script src="https://Eakamm.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
