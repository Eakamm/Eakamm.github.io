<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quartzä½œä¸šè°ƒåº¦ | åˆ˜å¿—è±ªçš„åšå®¢</title>
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°" />
<link rel="shortcut icon" href="https://Eakamm.github.io/favicon.ico">
<link rel="stylesheet" href="https://Eakamm.github.io/styles/main.css">

<script src="https://Eakamm.github.io/media/js/jquery.min.js"></script>
<script src="https://Eakamm.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://Eakamm.github.io/media/js/aos.js"></script>
<script src="https://Eakamm.github.io/media/js/pace.min.js"></script>
<script src="https://Eakamm.github.io/media/js/view-image.min.js"></script>
<script src="https://Eakamm.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://Eakamm.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="Quartzæ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚:å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚

ä¸€ã€ä»€ä¹ˆæ˜¯ Quartz
ä»€ä¹ˆæ˜¯ Quartz?

Quartz æ˜¯ OpenSymphony ..." />
    <meta name="keywords" content="Quartz,SpringBoot" />
    <script src="https://Eakamm.github.io/media/js/waterfall.min.js"></script>
    <script src="https://Eakamm.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://Eakamm.github.io"><img src="\media\images\custom-headerLogo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://Eakamm.github.io" class="menu">é¦–é¡µ</a></li>
                
                  <li class="" >
                    <a href="/" class="menu">
                      é¦–é¡µ
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      å½’æ¡£
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      æ ‡ç­¾
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      å…³äº
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1630396434327" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="æœç‚¹å•¥..." aria-label="æœç‚¹å•¥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://Eakamm.github.io/post-images/quartz-zuo-ye-diao-du.png');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2020-10-09"><i class="fa fa-calendar"></i><span class="lately">1 å¹´å‰</span></time>
              
              <a href="https://Eakamm.github.io/post/quartz-zuo-ye-diao-du/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/quartz-zuo-ye-diao-du/"> </span>
              </a>
              <span id="/quartz-zuo-ye-diao-du/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://Eakamm.github.io/tag/G_-kZffdc/" class="ctag ctag-0 ctag-G_-kZffdc" aria-label="">Quartz</a>
                    
                      <a href="https://Eakamm.github.io/tag/OdKZfGOT_/" class="ctag ctag-1 ctag-OdKZfGOT_" aria-label="">SpringBoot</a>
                    
              </div>
              <h1 class="title ularge white bold">Quartzä½œä¸šè°ƒåº¦</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <p>Quartzæ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚:å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚</p>
<!-- more -->
<h2 id="ä¸€-ä»€ä¹ˆæ˜¯-quartz">ä¸€ã€ä»€ä¹ˆæ˜¯ Quartz</h2>
<p>ä»€ä¹ˆæ˜¯ Quartz?</p>
<blockquote>
<p>Quartz æ˜¯ OpenSymphony å¼€æºç»„ç»‡åœ¨ Job scheduling é¢†åŸŸåˆä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®Œå…¨ç”± Java å¼€å‘ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œç±»ä¼¼äº java.util.Timerã€‚ä½†æ˜¯ç›¸è¾ƒäº Timerï¼Œ Quartz å¢åŠ äº†å¾ˆå¤šåŠŸèƒ½ï¼š</p>
<ul>
<li>æŒä¹…æ€§ä½œä¸š - å°±æ˜¯ä¿æŒè°ƒåº¦å®šæ—¶çš„çŠ¶æ€;</li>
<li>ä½œä¸šç®¡ç† - å¯¹è°ƒåº¦ä½œä¸šè¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†;</li>
</ul>
</blockquote>
<p>å¤§éƒ¨åˆ†å…¬å¸éƒ½ä¼šç”¨åˆ°å®šæ—¶ä»»åŠ¡è¿™ä¸ªåŠŸèƒ½ã€‚<br>
æ‹¿ç«è½¦ç¥¨è´­ç¥¨æ¥è¯´ï¼Œå½“ä½ ä¸‹å•åï¼Œåå°å°±ä¼šæ’å…¥ä¸€æ¡å¾…æ”¯ä»˜çš„ task(job)ï¼Œä¸€èˆ¬æ˜¯ 30 åˆ†é’Ÿï¼Œè¶…è¿‡ 30min åå°±ä¼šæ‰§è¡Œè¿™ä¸ª jobï¼Œå»åˆ¤æ–­ä½ æ˜¯å¦æ”¯ä»˜ï¼Œæœªæ”¯ä»˜å°±ä¼šå–æ¶ˆæ­¤æ¬¡è®¢å•ï¼›å½“ä½ æ”¯ä»˜å®Œæˆä¹‹åï¼Œåå°æ‹¿åˆ°æ”¯ä»˜å›è°ƒåå°±ä¼šå†æ’å…¥ä¸€æ¡å¾…æ¶ˆè´¹çš„ taskï¼ˆjobï¼‰ï¼ŒJob è§¦å‘æ—¥æœŸä¸ºç«è½¦ç¥¨ä¸Šçš„å‡ºå‘æ—¥æœŸï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±ä¼šæ‰§è¡Œè¿™ä¸ª jobï¼Œåˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç­‰ã€‚</p>
<p>åœ¨æˆ‘ä»¬å®é™…çš„é¡¹ç›®ä¸­ï¼Œå½“ Job è¿‡å¤šçš„æ—¶å€™ï¼Œè‚¯å®šä¸èƒ½äººå·¥å»æ“ä½œï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå¸®æˆ‘ä»¬è‡ªåŠ¨å»æ‰§è¡Œè¿™äº›ç¨‹åºã€‚é‚£ä¹ˆè¯¥å¦‚ä½•å®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰å®ç°ä¸€ä¸ªå®šæ—¶åŠŸèƒ½çš„æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º Taskï¼ˆæˆ– Jobï¼‰ï¼Œå¦‚å®šæ—¶å‘é€é‚®ä»¶çš„ taskï¼ˆJobï¼‰ï¼Œé‡å¯æœºå™¨çš„ taskï¼ˆJobï¼‰ï¼Œä¼˜æƒ åˆ¸åˆ°æœŸå‘é€çŸ­ä¿¡æé†’çš„ taskï¼ˆJobï¼‰ï¼Œå®ç°æ¥å£å¦‚ä¸‹ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135410275?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ2ï¼‰æœ‰äº†ä»»åŠ¡ä¹‹åï¼Œè¿˜éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå®ç°è§¦å‘ä»»åŠ¡å»æ‰§è¡Œçš„è§¦å‘å™¨ï¼Œè§¦å‘å™¨ Trigger æœ€åŸºæœ¬çš„åŠŸèƒ½æ˜¯æŒ‡å®š Job çš„æ‰§è¡Œæ—¶é—´ï¼Œæ‰§è¡Œé—´éš”ï¼Œè¿è¡Œæ¬¡æ•°ç­‰ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135421739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ3ï¼‰æœ‰äº† Job å’Œ Trigger åï¼Œæ€ä¹ˆæ ·å°†ä¸¤è€…ç»“åˆèµ·æ¥å‘¢ï¼Ÿå³æ€æ ·æŒ‡å®š Trigger å»æ‰§è¡ŒæŒ‡å®šçš„ Job å‘¢ï¼Ÿè¿™æ—¶éœ€è¦ä¸€ä¸ª Scheduleï¼Œæ¥è´Ÿè´£è¿™ä¸ªåŠŸèƒ½çš„å®ç°ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135431806?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ä¸Šé¢ä¸‰ä¸ªéƒ¨åˆ†å°±æ˜¯ Quartz çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>è°ƒåº¦å™¨ï¼šScheduler</li>
<li>ä»»åŠ¡ï¼šJobDetail</li>
<li>è§¦å‘å™¨ï¼šTriggerï¼ŒåŒ…æ‹¬ SimpleTrigger å’Œ CronTrigger</li>
</ul>
<h2 id="äºŒ-quartz-demo-æ­å»º">äºŒã€Quartz Demo æ­å»º</h2>
<p>ä¸‹é¢æ¥åˆ©ç”¨ Quartz æ­å»ºä¸€ä¸ªæœ€åŸºæœ¬çš„ Demoã€‚<br>
1ã€å¯¼å…¥ä¾èµ–çš„ jar åŒ…ï¼š</p>
<pre><code class="language-xml">&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;
    &lt;artifactId&gt;quartz&lt;/artifactId&gt;
    &lt;version&gt;2.3.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>2ã€æ–°å»ºä¸€ä¸ªèƒ½å¤Ÿæ‰“å°ä»»æ„å†…å®¹çš„ Jobï¼š</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 16:28.
 * Description: æ‰“å°ä»»æ„å†…å®¹
 */
public class PrintWordsJob implements Job{

    @Override
    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {
        String printTime = new SimpleDateFormat(&quot;yy-MM-dd HH-mm-ss&quot;).format(new Date());
        System.out.println(&quot;PrintWordsJob start at:&quot; + printTime + &quot;, prints: Hello Job-&quot; + new Random().nextInt(100));

    }
}
</code></pre>
<p>3ã€åˆ›å»º Scheduleï¼Œæ‰§è¡Œä»»åŠ¡ï¼š</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 16:31.
 * Description: XXX
 */
public class MyScheduler {

    public static void main(String\[\] args) throws SchedulerException, InterruptedException {
        // 1ã€åˆ›å»ºè°ƒåº¦å™¨Scheduler
        SchedulerFactory schedulerFactory = new StdSchedulerFactory();
        Scheduler scheduler = schedulerFactory.getScheduler();
        // 2ã€åˆ›å»ºJobDetailå®ä¾‹ï¼Œå¹¶ä¸PrintWordsJobç±»ç»‘å®š(Jobæ‰§è¡Œå†…å®¹)
        JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)
                                        .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();
        // 3ã€æ„å»ºTriggerå®ä¾‹,æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .withSchedule(SimpleScheduleBuilder.simpleSchedule()
                .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
                .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ

        //4ã€æ‰§è¡Œ
        scheduler.scheduleJob(jobDetail, trigger);
        System.out.println(&quot;--------scheduler start ! ------------&quot;);
        scheduler.start();

        //ç¡çœ 
        TimeUnit.MINUTES.sleep(1);
        scheduler.shutdown();
        System.out.println(&quot;--------scheduler shutdown ! ------------&quot;);


    }
}
</code></pre>
<p>è¿è¡Œç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºæ¯éš” 1s ä¼šæ‰“å°å‡ºå†…å®¹ï¼Œä¸”åœ¨ä¸€åˆ†é’Ÿåç»“æŸï¼š<br>
<img src="https://img-blog.csdn.net/20180710135458277?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<h2 id="ä¸‰-quartz-æ ¸å¿ƒè¯¦è§£">ä¸‰ã€Quartz æ ¸å¿ƒè¯¦è§£</h2>
<p>ä¸‹é¢å°±ç¨‹åºä¸­å‡ºç°çš„å‡ ä¸ªå‚æ•°ï¼Œçœ‹ä¸€ä¸‹ Quartz æ¡†æ¶ä¸­çš„å‡ ä¸ªé‡è¦å‚æ•°ï¼š</p>
<ul>
<li>Job å’Œ JobDetail</li>
<li>JobExecutionContext</li>
<li>JobDataMap</li>
<li>Triggerã€SimpleTriggerã€CronTrigger</li>
</ul>
<p>ï¼ˆ1ï¼‰Job å’Œ JobDetail<br>
Job æ˜¯ Quartz ä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œæ¥å£ä¸‹åªæœ‰ execute æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚<br>
æ¥å£ä¸­çš„æºç ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135513678?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>JobDetail ç”¨æ¥ç»‘å®š Jobï¼Œä¸º Job å®ä¾‹æä¾›è®¸å¤šå±æ€§ï¼š</p>
<ul>
<li>name</li>
<li>group</li>
<li>jobClass</li>
<li>jobDataMap</li>
</ul>
<p>JobDetail ç»‘å®šæŒ‡å®šçš„ Jobï¼Œæ¯æ¬¡ Scheduler è°ƒåº¦æ‰§è¡Œä¸€ä¸ª Job çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šæ‹¿åˆ°å¯¹åº”çš„ Jobï¼Œç„¶ååˆ›å»ºè¯¥ Job å®ä¾‹ï¼Œå†å»æ‰§è¡Œ Job ä¸­çš„ execute() çš„å†…å®¹ï¼Œä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œå…³è”çš„ Job å¯¹è±¡å®ä¾‹ä¼šè¢«é‡Šæ”¾ï¼Œä¸”ä¼šè¢« JVM GC æ¸…é™¤ã€‚</p>
<p>ä¸ºä»€ä¹ˆè®¾è®¡æˆ JobDetail + Jobï¼Œä¸ç›´æ¥ä½¿ç”¨ Job</p>
<blockquote>
<p>JobDetail å®šä¹‰çš„æ˜¯ä»»åŠ¡æ•°æ®ï¼Œè€ŒçœŸæ­£çš„æ‰§è¡Œé€»è¾‘æ˜¯åœ¨ Job ä¸­ã€‚<br>
è¿™æ˜¯å› ä¸ºä»»åŠ¡æ˜¯æœ‰å¯èƒ½å¹¶å‘æ‰§è¡Œï¼Œå¦‚æœ Scheduler ç›´æ¥ä½¿ç”¨ Jobï¼Œå°±ä¼šå­˜åœ¨å¯¹åŒä¸€ä¸ª Job å®ä¾‹å¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚è€Œ JobDetail &amp; Job æ–¹å¼ï¼ŒSheduler æ¯æ¬¡æ‰§è¡Œï¼Œéƒ½ä¼šæ ¹æ® JobDetail åˆ›å»ºä¸€ä¸ªæ–°çš„ Job å®ä¾‹ï¼Œè¿™æ ·å°±å¯ä»¥è§„é¿å¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>ï¼ˆ2ï¼‰JobExecutionContext<br>
JobExecutionContext ä¸­åŒ…å«äº† Quartz è¿è¡Œæ—¶çš„ç¯å¢ƒä»¥åŠ Job æœ¬èº«çš„è¯¦ç»†æ•°æ®ä¿¡æ¯ã€‚<br>
å½“ Schedule è°ƒåº¦æ‰§è¡Œä¸€ä¸ª Job çš„æ—¶å€™ï¼Œå°±ä¼šå°† JobExecutionContext ä¼ é€’ç»™è¯¥ Job çš„ execute() ä¸­ï¼ŒJob å°±å¯ä»¥é€šè¿‡ JobExecutionContext å¯¹è±¡è·å–ä¿¡æ¯ã€‚<br>
ä¸»è¦ä¿¡æ¯æœ‰ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135537517?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ3ï¼‰JobExecutionContext<br>
JobDataMap å®ç°äº† JDK çš„ Map æ¥å£ï¼Œå¯ä»¥ä»¥ Key-Value çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚<br>
JobDetailã€Trigger éƒ½å¯ä»¥ä½¿ç”¨ JobDataMap æ¥è®¾ç½®ä¸€äº›å‚æ•°æˆ–ä¿¡æ¯ï¼Œ<br>
Job æ‰§è¡Œ execute() æ–¹æ³•çš„æ—¶å€™ï¼ŒJobExecutionContext å¯ä»¥è·å–åˆ° JobExecutionContext ä¸­çš„ä¿¡æ¯ï¼š<br>
å¦‚ï¼š</p>
<pre><code class="language-java">JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)                        .usingJobData(&quot;jobDetail1&quot;, &quot;è¿™ä¸ªJobç”¨æ¥æµ‹è¯•çš„&quot;)
                  .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();

 Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
      .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
      .startNow()//ç«‹å³ç”Ÿæ•ˆ
      .withSchedule(SimpleScheduleBuilder.simpleSchedule()
      .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
      .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ
</code></pre>
<p>Job æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥è·å–åˆ°è¿™äº›å‚æ•°ä¿¡æ¯ï¼š</p>
<pre><code class="language-java">@Override
    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {

        System.out.println(jobExecutionContext.getJobDetail().getJobDataMap().get(&quot;jobDetail1&quot;));
        System.out.println(jobExecutionContext.getTrigger().getJobDataMap().get(&quot;trigger1&quot;));
        String printTime = new SimpleDateFormat(&quot;yy-MM-dd HH-mm-ss&quot;).format(new Date());
        System.out.println(&quot;PrintWordsJob start at:&quot; + printTime + &quot;, prints: Hello Job-&quot; + new Random().nextInt(100));


    }
</code></pre>
<p>ï¼ˆ4ï¼‰Triggerã€SimpleTriggerã€CronTrigger</p>
<ul>
<li><strong>Trigger</strong></li>
</ul>
<p>Trigger æ˜¯ Quartz çš„è§¦å‘å™¨ï¼Œä¼šå»é€šçŸ¥ Scheduler ä½•æ—¶å»æ‰§è¡Œå¯¹åº” Jobã€‚</p>
<pre><code>new Trigger().startAt():è¡¨ç¤ºè§¦å‘å™¨é¦–æ¬¡è¢«è§¦å‘çš„æ—¶é—´;
new Trigger().endAt():è¡¨ç¤ºè§¦å‘å™¨ç»“æŸè§¦å‘çš„æ—¶é—´;
</code></pre>
<ul>
<li><strong>SimpleTrigger</strong><br>
SimpleTrigger å¯ä»¥å®ç°åœ¨ä¸€ä¸ªæŒ‡å®šæ—¶é—´æ®µå†…æ‰§è¡Œä¸€æ¬¡ä½œä¸šä»»åŠ¡æˆ–ä¸€ä¸ªæ—¶é—´æ®µå†…å¤šæ¬¡æ‰§è¡Œä½œä¸šä»»åŠ¡ã€‚<br>
ä¸‹é¢çš„ç¨‹åºå°±å®ç°äº†ç¨‹åºè¿è¡Œ 5s åå¼€å§‹æ‰§è¡Œ Jobï¼Œæ‰§è¡Œ Job 5s åç»“æŸæ‰§è¡Œï¼š</li>
</ul>
<pre><code>Date startDate = new Date();
startDate.setTime(startDate.getTime() + 5000);

 Date endDate = new Date();
 endDate.setTime(startDate.getTime() + 5000);

        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .startAt(startDate)
                .endAt(endDate)
                .withSchedule(SimpleScheduleBuilder.simpleSchedule()
                .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
                .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ
</code></pre>
<ul>
<li><strong>CronTrigger</strong></li>
</ul>
<p>CronTrigger åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæ˜¯åŸºäºæ—¥å†çš„ä½œä¸šè°ƒåº¦ï¼Œè€Œ SimpleTrigger æ˜¯ç²¾å‡†æŒ‡å®šé—´éš”ï¼Œæ‰€ä»¥ç›¸æ¯” SimpleTriggerï¼ŒCroTrigger æ›´åŠ å¸¸ç”¨ã€‚CroTrigger æ˜¯åŸºäº Cron è¡¨è¾¾å¼çš„ï¼Œå…ˆäº†è§£ä¸‹ Cron è¡¨è¾¾å¼ï¼š<br>
ç”± 7 ä¸ªå­è¡¨è¾¾å¼ç»„æˆå­—ç¬¦ä¸²çš„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>[ç§’] [åˆ†] [å°æ—¶] [æ—¥] [æœˆ] [å‘¨] [å¹´]</p>
</blockquote>
<p>Cron è¡¨è¾¾å¼çš„è¯­æ³•æ¯”è¾ƒå¤æ‚ï¼Œ<br>
å¦‚ï¼š* 30 10 ? * 1/5 *<br>
è¡¨ç¤ºï¼ˆä»åå¾€å‰çœ‹ï¼‰<br>
[æŒ‡å®šå¹´ä»½] çš„ [ å‘¨ä¸€åˆ°å‘¨äº”][æŒ‡å®šæœˆ][ä¸æŒ‡å®šæ—¥][ä¸Šåˆ 10 æ—¶][30 åˆ†][æŒ‡å®šç§’]</p>
<p>åˆå¦‚ï¼š00 00 00 ï¼Ÿ * 10,11,12 1#5 2018<br>
è¡¨ç¤º 2018 å¹´ 10ã€11ã€12 æœˆçš„ç¬¬ä¸€å‘¨çš„æ˜ŸæœŸäº”è¿™ä¸€å¤©çš„ 0 æ—¶ 0 åˆ† 0 ç§’å»æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>ä¸‹é¢æ˜¯ç»™çš„ä¸€ä¸ªä¾‹å­ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135615747?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>å¯é€šè¿‡åœ¨çº¿ç”Ÿæˆ Cron è¡¨è¾¾å¼çš„å·¥å…·ï¼š<a href="http://cron.qqe2.com/">http://cron.qqe2.com/</a> æ¥ç”Ÿæˆè‡ªå·±æƒ³è¦çš„è¡¨è¾¾å¼ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135623995?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ä¸‹é¢çš„ä»£ç å°±å®ç°äº†æ¯å‘¨ä¸€åˆ°å‘¨äº”ä¸Šåˆ 10:30 æ‰§è¡Œå®šæ—¶ä»»åŠ¡</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 20:06.
 * Description: XXX
*/
public class MyScheduler2 {
    public static void main(String\[\] args) throws SchedulerException, InterruptedException {
        // 1ã€åˆ›å»ºè°ƒåº¦å™¨Scheduler
        SchedulerFactory schedulerFactory = new StdSchedulerFactory();
        Scheduler scheduler = schedulerFactory.getScheduler();
        // 2ã€åˆ›å»ºJobDetailå®ä¾‹ï¼Œå¹¶ä¸PrintWordsJobç±»ç»‘å®š(Jobæ‰§è¡Œå†…å®¹)
        JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)
                .usingJobData(&quot;jobDetail1&quot;, &quot;è¿™ä¸ªJobç”¨æ¥æµ‹è¯•çš„&quot;)
                .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();
        // 3ã€æ„å»ºTriggerå®ä¾‹,æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
        Date startDate = new Date();
        startDate.setTime(startDate.getTime() + 5000);

        Date endDate = new Date();
        endDate.setTime(startDate.getTime() + 5000);

        CronTrigger cronTrigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .startAt(startDate)
                .endAt(endDate)
                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;\* 30 10 ? \* 1/5 2018&quot;))
                .build();

        //4ã€æ‰§è¡Œ
        scheduler.scheduleJob(jobDetail, cronTrigger);
        System.out.println(&quot;--------scheduler start ! ------------&quot;);
        scheduler.start();
        System.out.println(&quot;--------scheduler shutdown ! ------------&quot;);

    }
}
</code></pre>
<hr>
<p>2018/07/07 20:10 in SH.</p>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://Eakamm.github.io/post-images/springboot-yu-quartz-zheng-he.png');"></div>
                 <a href="https://Eakamm.github.io/post/springboot-yu-quartz-zheng-he/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-10-09">2020-10-09</time>
                  <h4 class="title white no-margin">SpringBootä¸Quartzæ•´åˆ</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://Eakamm.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://Eakamm.github.io/post-images/springboot-shi-yong-getmapping-shi-dui-xiang-zuo-wei-can-shu-dui-xiang-de-shu-xing-bu-ke-yi-_-kai-tou.jpg');"></div>
                 <a href="https://Eakamm.github.io/post/springboot-shi-yong-getmapping-shi-dui-xiang-zuo-wei-can-shu-dui-xiang-de-shu-xing-bu-ke-yi-_-kai-tou/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-09-28">2020-09-28</time>
                  <h4 class="title white no-margin">SpringBootä½¿ç”¨GetMappingæ—¶å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡çš„å±æ€§ä¸å¯ä»¥_å¼€å¤´</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://Eakamm.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                <div class="clear"></div>
<script>
jQuery(document).ready(function($){
    $('.vemoji-btn').text('ğŸ˜€');
    $("#comments").on('click', 'span.vat',function(){
        $(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
        $('textarea#veditor').focus();
    })
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
                $('html, body').animate({scrollTop: $(window.location.hash).offset().top-200}, 600);
                clearInterval(checkExist);
            }
        }, 100);
    }
})
</script>

              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">æœ€æ–°æ–‡ç« </h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/windows-zhu-ce-xi-tong-fu-wu-shi-xian-kai-ji-zi-qi/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-08-31">2021-08-31</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/windows-zhu-ce-xi-tong-fu-wu-shi-xian-kai-ji-zi-qi/">windowsæ³¨å†Œç³»ç»ŸæœåŠ¡ï¼ˆå®ç°å¼€æœºè‡ªå¯ï¼‰</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/elementui-shu-xing-kong-jian-shi-yong-setcheckedkeys-wei-ding-yi/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-04-30">2021-04-30</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/elementui-shu-xing-kong-jian-shi-yong-setcheckedkeys-wei-ding-yi/">ElementUI æ ‘å½¢æ§ä»¶ä½¿ç”¨setCheckedKeysæœªå®šä¹‰</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Eakamm.github.io/post/vue-jian-ting-quan-bu-shu-xing-bian-hua/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-04-28">2021-04-28</time>
                      <h4 class="title usmall">
                        <a href="https://Eakamm.github.io/post/vue-jian-ting-quan-bu-shu-xing-bian-hua/">Vueç›‘å¬å…¨éƒ¨å±æ€§å˜åŒ–</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">æ ‡ç­¾äº‘</h4>
                  <div class="tagcloud">
                    
                      <a href="https://Eakamm.github.io/tag/k37nSTCoN/" class="ctag ctag-0 ctag-k37nSTCoN" aria-label="">éƒ¨ç½²</a>
                    
                      <a href="https://Eakamm.github.io/tag/1mJVzpev5/" class="ctag ctag-1 ctag-1mJVzpev5" aria-label="">vue</a>
                    
                      <a href="https://Eakamm.github.io/tag/G_-kZffdc/" class="ctag ctag-2 ctag-G_-kZffdc" aria-label="">Quartz</a>
                    
                      <a href="https://Eakamm.github.io/tag/xmFdSMSrZ/" class="ctag ctag-3 ctag-xmFdSMSrZ" aria-label="">Mysql</a>
                    
                      <a href="https://Eakamm.github.io/tag/DuyR84tOfM/" class="ctag ctag-4 ctag-DuyR84tOfM" aria-label="">æ•°æ®åº“</a>
                    
                      <a href="https://Eakamm.github.io/tag/VVAqyIHur/" class="ctag ctag-5 ctag-VVAqyIHur" aria-label="">å‘</a>
                    
                      <a href="https://Eakamm.github.io/tag/OdKZfGOT_/" class="ctag ctag-6 ctag-OdKZfGOT_" aria-label="">SpringBoot</a>
                    
                      <a href="https://Eakamm.github.io/tag/ZX_BGyWbN/" class="ctag ctag-7 ctag-ZX_BGyWbN" aria-label="">Java</a>
                    
                      <a href="https://Eakamm.github.io/tag/tjl78Jr5n/" class="ctag ctag-8 ctag-tjl78Jr5n" aria-label="">JavaScript</a>
                    
                      <a href="https://Eakamm.github.io/tag/aYAE_85kY/" class="ctag ctag-9 ctag-aYAE_85kY" aria-label="">Python</a>
                    
                      <a href="https://Eakamm.github.io/tag/eVLL_p5ATD/" class="ctag ctag-10 ctag-eVLL_p5ATD" aria-label="">Pandas</a>
                    
                      <a href="https://Eakamm.github.io/tag/m13UWVHSwx/" class="ctag ctag-11 ctag-m13UWVHSwx" aria-label="">æ•°æ®å¤„ç†</a>
                    
                      <a href="https://Eakamm.github.io/tag/omXAxMDe7/" class="ctag ctag-12 ctag-omXAxMDe7" aria-label="">å…¶ä»–</a>
                    
                      <a href="https://Eakamm.github.io/tag/oOLukB2Rlq/" class="ctag ctag-13 ctag-oOLukB2Rlq" aria-label="">Spring</a>
                    
                      <a href="https://Eakamm.github.io/tag/Lo0Xud3TPi/" class="ctag ctag-14 ctag-Lo0Xud3TPi" aria-label="">ES6</a>
                    
                      <a href="https://Eakamm.github.io/tag/ocKSi1PBm/" class="ctag ctag-15 ctag-ocKSi1PBm" aria-label="">UI</a>
                    
                      <a href="https://Eakamm.github.io/tag/bYITpN4Lrh/" class="ctag ctag-16 ctag-bYITpN4Lrh" aria-label="">å‰ç«¯</a>
                    
                      <a href="https://Eakamm.github.io/tag/c5epEfQ21/" class="ctag ctag-17 ctag-c5epEfQ21" aria-label="">Gridea</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">å…³äºæˆ‘</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://Eakamm.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">åˆ˜å¿—è±ªçš„åšå®¢</a></h4>
                    <p class="founder">æ¸©æ•…è€ŒçŸ¥æ–°</p>
                    <div class="social">
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://Eakamm.github.io"><img src="/media/images/gridea.png" alt=""></a>
        </div>
        <p class="published border-effect">
          Â©2019 å…± 26 ç¯‡æ–‡ç« 
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">ã€Œbreekã€</a> Powered by <a href="https://gridea.dev/" target="_blank">ã€ŒGrideaã€</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/valine/1.3.10/Valine.Pure.min.js"></script>
<script>
    new Valine({
        el: '#comments',
        appId: 'jxTT3ina1NIYw5eMOamocnW5-gzGzoHsz' ,
        appKey: 'uUuJe7kNJCFlYliQY6FgscNi',
        pageSize: 30,
        placeholder: 'æ—¢ç„¶æ¥äº†ï¼Œé‚£å°±ç•™ä¸ªç—•è¿¹å§~',
        visitor: false // é˜…è¯»é‡ç»Ÿè®¡
    })
</script>
    

      
    <script src="https://Eakamm.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
