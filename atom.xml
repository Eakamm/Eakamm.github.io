<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Eakamm.github.io</id>
    <title>åˆ˜å¿—è±ªçš„åšå®¢</title>
    <updated>2021-03-05T06:40:18.533Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Eakamm.github.io"/>
    <link rel="self" href="https://Eakamm.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://Eakamm.github.io/images/avatar.png</logo>
    <icon>https://Eakamm.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, åˆ˜å¿—è±ªçš„åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[XMLä¸­ä¸èƒ½å‡ºç°<,å¯¼è‡´Mybatisçš„Mapperæ— æ³•ä½¿ç”¨sqlçš„<]]></title>
        <id>https://Eakamm.github.io/post/xml-zhong-bu-neng-chu-xian-lessdao-zhi-mybatis-de-mapper-wu-fa-shi-yong-sql-de-less/</id>
        <link href="https://Eakamm.github.io/post/xml-zhong-bu-neng-chu-xian-lessdao-zhi-mybatis-de-mapper-wu-fa-shi-yong-sql-de-less/">
        </link>
        <updated>2021-03-05T06:31:36.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨è¿›è¡Œé¡¹ç›®å¼€å‘çš„æ—¶å€™ï¼Œä½¿ç”¨å¦‚ä¸‹sql</p>
<pre><code class="language-xml">  &lt;select id=&quot;selectIntersectTime&quot; parameterType=&quot;TbPurchaseTime&quot; resultMap=&quot;TbPurchaseTimeResult&quot;&gt;
        select
            *
        from
            tb_purchase_time
        where
            (start_time &gt; #{purchaseStartTime} AND start_time &lt; #{purchaseEndTime})
            OR
            (start_time &lt;= #{purchaseStartTime} AND end_time &gt;= #{purchaseEndTime})
            OR
            (end_time &gt; #{purchaseStartTime} AND end_time &lt; #{purchaseEndTime})
    &lt;/select&gt;
</code></pre>
<p>å°äºå·ä¼šæŠ¥é”™</p>
<pre><code>Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 39; columnNumber: 64; å…ƒç´ å†…å®¹å¿…é¡»ç”±æ ¼å¼æ­£ç¡®çš„å­—ç¬¦æ•°æ®æˆ–æ ‡è®°ç»„æˆã€‚
</code></pre>
<p>åœ¨mybatisä¸­sqlæ˜¯å†™åœ¨xmlæ˜ å°„æ–‡ä»¶ä¸­çš„ï¼Œå¦‚æœsqlä¸­æœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦çš„è¯ï¼Œåœ¨è§£æxmlæ–‡ä»¶çš„æ—¶å€™å°±ä¼šè¢«è½¬ä¹‰ï¼Œå¦‚è‹¥ä¸å¸Œæœ›è¢«è½¬ä¹‰ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<h2 id="æ–¹æ³•ä¸€ä½¿ç”¨ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦">æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦</h2>
<p>ä¾‹å¦‚ï¼Œ&gt;=å¼€å§‹æ—¥æœŸ å¹¶ä¸”&lt;=ç»“æŸæ—¥æœŸ<br>
<code>&amp;gt;</code> &gt;  å¤§äºå·<br>
<code>&amp;lt;</code> &lt;  å°äºå·</p>
<pre><code class="language-xml">&lt;select id=&quot;selectIntersectTime&quot; parameterType=&quot;TbPurchaseTime&quot; resultMap=&quot;TbPurchaseTimeResult&quot;&gt;
        select
            *
        from
            tb_purchase_time
        where
            (start_time &gt; #{purchaseStartTime} AND start_time &amp;lt; #{purchaseEndTime})
            OR
            (start_time &amp;lt;= #{purchaseStartTime} AND end_time &gt;= #{purchaseEndTime})
            OR
            (end_time &gt; #{purchaseStartTime} AND end_time &amp;lt; #{purchaseEndTime})
    &lt;/select&gt;
</code></pre>
<h2 id="æ–¹æ³•äºŒä½¿ç”¨cdata-ç¬¦å·">æ–¹æ³•äºŒï¼šä½¿ç”¨<![CDATA[ ]]]]><![CDATA[>ç¬¦å·</h2>
<p>è¿™é‡Œé¢çš„å†…å®¹å°†ä¸è¢«è§£æ</p>
<pre><code class="language-xml">&lt;select id=&quot;selectIntersectTime&quot; parameterType=&quot;TbPurchaseTime&quot; resultMap=&quot;TbPurchaseTimeResult&quot;&gt;
        select
            *
        from
            tb_purchase_time
        where
            (start_time &gt; #{purchaseStartTime} AND start_time &lt;![CDATA[&lt;]]&gt; #{purchaseEndTime})
            OR
            (start_time &lt;![CDATA[&lt;=]]&gt; #{purchaseStartTime} AND end_time &gt;= #{purchaseEndTime})
            OR
            (end_time &gt; #{purchaseStartTime} AND end_time &lt;![CDATA[&lt;]]&gt; #{purchaseEndTime})
    &lt;/select&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sql å°½é‡é¿å…ä½¿ç”¨INæˆ–NOT IN]]></title>
        <id>https://Eakamm.github.io/post/sql-jin-liang-bi-mian-shi-yong-in-huo-not-in/</id>
        <link href="https://Eakamm.github.io/post/sql-jin-liang-bi-mian-shi-yong-in-huo-not-in/">
        </link>
        <updated>2021-01-07T07:20:03.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="https://www.cnblogs.com/totian/p/7597300.html">www.cnblogs.com</a><br>
WHYï¼Ÿ<br>
====</p>
</blockquote>
<p>INÂ å’ŒÂ NOTÂ INÂ æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„å…³é”®å­—ï¼Œä¸ºä»€ä¹ˆè¦å°½é‡é¿å…å‘¢ï¼Ÿ</p>
<p><strong>1ã€æ•ˆç‡ä½</strong></p>
<p>å¯ä»¥å‚çœ‹æˆ‘ä¹‹å‰é‡åˆ°çš„ä¸€ä¸ªä¾‹å­ï¼ˆ<a href="http://www.cnblogs.com/hydor/p/4288739.html">[å°é—®é¢˜ç¬”è®°ï¼ˆä¹ï¼‰] SQL è¯­å¥ Not IN æ•ˆç‡ä½ï¼Œç”¨ NOT EXISTS è¯•è¯•</a>ï¼‰</p>
<p><strong>2ã€å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œæˆ–æŸ¥è¯¢ç»“æœæœ‰è¯¯</strong> ï¼ˆä¸èƒ½æ›´ä¸¥é‡çš„ç¼ºç‚¹ï¼‰</p>
<p>ä»¥Â INÂ ä¸ºä¾‹ã€‚å»ºä¸¤ä¸ªè¡¨ï¼štest1Â å’ŒÂ test2</p>
<pre><code class="language-mysql">create table test1 (id1 int)
create table test2 (id2 int)

insert into test1 (id1) values (1),(2),(3)
insert into test2 (id2) values (1),(2)
</code></pre>
<p><strong>æˆ‘æƒ³è¦æŸ¥è¯¢ï¼Œåœ¨ test2 ä¸­å­˜åœ¨çš„ Â test1 ä¸­çš„ id</strong> ã€‚ä½¿ç”¨ IN çš„ä¸€èˆ¬å†™æ³•æ˜¯ï¼š</p>
<pre><code class="language-mysql">select id1 from test1 
where id1 in (select id2 from test2)
</code></pre>
<p>ç»“æœæ˜¯ï¼š<img src="https://images2015.cnblogs.com/blog/599583/201604/599583-20160414142918832-546624557.jpg" alt="" loading="lazy">Â Â OKÂ æœ¨æœ‰é—®é¢˜ï¼</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä¸€æ—¶æ‰‹æ»‘ï¼Œå†™æˆäº†ï¼š</p>
<pre><code class="language-mysql">select id1 from test1 
where id1 in (select id1 from test2)
</code></pre>
<p>ä¸å°å¿ƒæŠŠ id2 å†™æˆ id1 äº†Â ï¼Œä¼šæ€ä¹ˆæ ·å‘¢?</p>
<p>ç»“æœæ˜¯ï¼š<img src="https://images2015.cnblogs.com/blog/599583/201604/599583-20160414143058535-1581017335.jpg" alt="" loading="lazy">Â <br>
EXCUSEÂ MEï¼Â ä¸ºä»€ä¹ˆä¸æŠ¥é”™ï¼Ÿ</p>
<p>å•ç‹¬æŸ¥è¯¢Â select id1Â from test2Â æ˜¯ä¸€å®šä¼šæŠ¥é”™:Â æ¶ˆæ¯ 207ï¼Œçº§åˆ« 16ï¼ŒçŠ¶æ€ 1ï¼Œç¬¬ 11 è¡ŒÂ åˆ—å'id1' æ— æ•ˆã€‚</p>
<p>ç„¶è€Œä½¿ç”¨äº† IN çš„å­æŸ¥è¯¢å°±æ˜¯è¿™ä¹ˆæ•·è¡ï¼Œç›´æ¥æŸ¥å‡º 1 2 3</p>
<p>è¿™ä»…ä»…æ˜¯å®¹æ˜“å‡ºé”™çš„æƒ…å†µï¼Œè‡ªå·±ä¸å†™é”™è¿˜æ²¡å•¥äº‹å„¿ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹ NOTÂ INÂ ç›´æ¥æŸ¥å‡ºé”™è¯¯ç»“æœçš„æƒ…å†µï¼š</p>
<p>ç»™ test2 æ’å…¥ä¸€ä¸ªç©ºå€¼ï¼š</p>
<pre><code class="language-mysql">insert into test2 (id2) values (NULL)
</code></pre>
<p><strong>æˆ‘æƒ³è¦æŸ¥è¯¢ï¼Œåœ¨ test2 ä¸­ä¸å­˜åœ¨çš„ Â test1 ä¸­çš„ idÂ ã€‚</strong></p>
<pre><code class="language-mysql">select id1 from test1 
where id1 not in (select id2 from test2)
</code></pre>
<p>ç»“æœæ˜¯ï¼š<img src="https://images2015.cnblogs.com/blog/599583/201604/599583-20160414144719566-1529158930.jpg" alt="" loading="lazy">Â ç©ºç™½ï¼Â æ˜¾ç„¶è¿™ä¸ªç»“æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æˆ‘ä»¬æƒ³è¦ 3ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯ï¼šNULL ä¸ç­‰äºä»»ä½•éç©ºçš„å€¼å•Šï¼å¦‚æœ id2 åªæœ‰ 1 å’Œ 2ï¼ŒÂ é‚£ä¹ˆ 3&lt;&gt;1Â ä¸” 3&lt;&gt;2Â æ‰€ä»¥ 3 è¾“å‡ºäº†ï¼Œä½†æ˜¯Â id2 åŒ…å«ç©ºå€¼ï¼Œé‚£ä¹ˆ 3 ä¹Ÿä¸ç­‰äº NULLÂ æ‰€ä»¥å®ƒä¸ä¼šè¾“å‡ºã€‚</p>
<p>ï¼ˆè·‘é¢˜ä¸€å¥ï¼šå»ºè¡¨çš„æ—¶å€™æœ€å¥½ä¸è¦å…è®¸å«ç©ºå€¼ï¼Œå¦åˆ™é—®é¢˜å¤šå¤šã€‚ï¼‰</p>
<h1 id="how">HOWï¼Ÿ</h1>
<p><strong>1ã€ç”¨ EXISTS æˆ–Â NOT EXISTSÂ ä»£æ›¿</strong></p>
<pre><code class="language-mysql">select *  from test1 
   where EXISTS (select * from test2  where id2 = id1 )

select *  FROM test1  
 where NOT EXISTS (select * from test2  where id2 = id1 )
</code></pre>
<p><strong>2ã€ç”¨ JOINÂ ä»£æ›¿</strong></p>
<pre><code class="language-mysql">select id1 from test1 
   INNER JOIN test2 ON id2 = id1 
   
 select id1 from test1 
   LEFT JOIN test2 ON id2 = id1 
   where id2 IS NULL
</code></pre>
<p>å¦¥å¦¥çš„æ²¡æœ‰é—®é¢˜äº†ï¼</p>
<p>PSï¼šé‚£æˆ‘ä»¬æ­»æ´»éƒ½ä¸èƒ½ç”¨ IN å’Œ NOTÂ INÂ äº†ä¹ˆï¼Ÿå¹¶æ²¡æœ‰ï¼Œä¸€ä½å¤§ç¥æ›¾ç»è¯´è¿‡ï¼Œå¦‚æœæ˜¯<strong>ç¡®å®šä¸”æœ‰é™çš„é›†åˆ</strong>æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ã€‚å¦‚Â INÂ ï¼ˆ0ï¼Œ1ï¼Œ2ï¼‰ã€‚</p>
<p>è½¬å‘è‡ªï¼šhttp://www.cnblogs.com/hydor/p/5391556.html</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SQLç¼–å†™æŠ€å·§]]></title>
        <id>https://Eakamm.github.io/post/sql-bian-xie-ji-qiao/</id>
        <link href="https://Eakamm.github.io/post/sql-bian-xie-ji-qiao/">
        </link>
        <updated>2020-11-04T06:55:58.000Z</updated>
        <content type="html"><![CDATA[<p>1ã€ä½¿ç”¨unionä»£æ›¿or<br>
åŠ›æ‰£ä¹ é¢˜ï¼š<a href="https://leetcode-cn.com/problems/big-countries/">595. å¤§çš„å›½å®¶</a><br>
unionå°†æŸ¥è¯¢çš„ç»“æœåˆå¹¶åˆ°ä¸€èµ·ï¼Œä¼šå»é‡ï¼Œé‡å¤æ•°æ®åªä¼šå‡ºç°ä¸€æ¬¡ã€‚<br>
union all å°†ç»“æœå…¨éƒ¨åˆ—å‡º</p>
<p>åŸå§‹æ•°æ®</p>
<pre><code class="language-sql">-- websites
+----+--------------+---------------------------+-------+---------+
| id | name         | url                       | alexa | country |
+----+--------------+---------------------------+-------+---------+
| 1  | Google       | https://www.google.cm/    | 1     | USA     |
| 2  | æ·˜å®          | https://www.taobao.com/   | 13    | CN      |
| 3  | èœé¸Ÿæ•™ç¨‹      | http://www.runoob.com/    | 4689  | CN      |
| 4  | å¾®åš          | http://weibo.com/         | 20    | CN      |
| 5  | Facebook     | https://www.facebook.com/ | 3     | USA     |
| 7  | stackoverflow | http://stackoverflow.com/ |   0 | IND     |
+----+---------------+---------------------------+-------+---------+
-- apps
+----+------------+-------------------------+---------+
| id | app_name   | url                                   | country |
+----+------------+-------------------------+---------+
|  1 | QQ APP     | http://im.qq.com/            | CN         |
|  2 | å¾®åš APP    | http://weibo.com/           | CN         |
|  3 | æ·˜å® APP    | https://www.taobao.com/  | CN         |
+----+------------+-------------------------+---------+
</code></pre>
<p><strong>union</strong></p>
<pre><code class="language-sql">SELECT country FROM Websites
UNION
SELECT country FROM apps
</code></pre>
<p><strong>union all</strong></p>
<pre><code class="language-sql">SELECT country FROM Websites
UNION ALL
SELECT country FROM apps
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Lombokçš„å‘å¤§å°å†™é—®é¢˜]]></title>
        <id>https://Eakamm.github.io/post/lombok-de-keng-da-xiao-xie-wen-ti/</id>
        <link href="https://Eakamm.github.io/post/lombok-de-keng-da-xiao-xie-wen-ti/">
        </link>
        <updated>2020-10-22T01:56:50.000Z</updated>
        <summary type="html"><![CDATA[<p>åœ¨æˆ‘ä½¿ç”¨postè¯·æ±‚æäº¤æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨@Dataæ³¨é‡Šçš„å®ä½“ç±»setæ–¹æ³•ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œé€šè¿‡æŸ¥æ‰¾èµ„æ–™å‘ç°æ˜¯å¤§å°å†™é—®é¢˜ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>åœ¨æˆ‘ä½¿ç”¨postè¯·æ±‚æäº¤æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨@Dataæ³¨é‡Šçš„å®ä½“ç±»setæ–¹æ³•ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œé€šè¿‡æŸ¥æ‰¾èµ„æ–™å‘ç°æ˜¯å¤§å°å†™é—®é¢˜ã€‚</p>
<!-- more -->
<p>æˆ‘Postæäº¤çš„è¯·æ±‚æ•°æ®æ˜¯</p>
<pre><code class="language-json">{
      &quot;vId&quot;: 1,
     &quot;dIds&quot;: [6,7]
}
</code></pre>
<p>åç«¯çš„å®ä½“ç±»ä¸ºVoteDetailRelVoï¼Œä½¿ç”¨äº†@Dataæ³¨è§£ã€‚</p>
<pre><code class="language-java">@Data
public class VoteDetailRelVo {

    private Long vId;

    private List&lt;Long&gt; dIds;
}
</code></pre>
<p>lombokè‡ªåŠ¨ç”Ÿæˆçš„get/setæ–¹æ³•å˜ä¸ºäº†<code>getVId/setVId</code>ä¸<code>getDIds/setDIds</code>ã€‚</p>
<p>ä¸€èˆ¬JavaBeanå±æ€§ä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œé©¼å³°å‘½åæ ¼å¼ï¼Œç›¸åº”çš„ getter/setter æ–¹æ³•æ˜¯ get/set æ¥ä¸Šé¦–å­—æ¯å¤§å†™çš„å±æ€§åã€‚ä¾‹å¦‚ï¼šå±æ€§åä¸ºuserNameï¼Œå…¶å¯¹åº”çš„getter/setter æ–¹æ³•æ˜¯ getUserName/setUserNameã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼š</p>
<p>1ã€å¦‚æœå±æ€§åçš„ç¬¬äºŒä¸ªå­—æ¯å¤§å†™ï¼Œé‚£ä¹ˆè¯¥å±æ€§åç›´æ¥ç”¨ä½œ getter/setter æ–¹æ³•ä¸­ get/set çš„åéƒ¨åˆ†ï¼Œå°±æ˜¯è¯´å¤§å°å†™ä¸å˜ã€‚ä¾‹å¦‚å±æ€§åä¸ºuNameï¼Œæ–¹æ³•æ˜¯getuName/setuNameã€‚</p>
<p>2ã€å¦‚æœå‰ä¸¤ä¸ªå­—æ¯æ˜¯å¤§å†™ï¼ˆä¸€èˆ¬çš„ä¸“æœ‰åè¯å’Œç¼©ç•¥è¯éƒ½ä¼šå¤§å†™ï¼‰ï¼Œä¹Ÿæ˜¯å±æ€§åç›´æ¥ç”¨ä½œ getter/setter æ–¹æ³•ä¸­ get/set çš„åéƒ¨åˆ†ã€‚ä¾‹å¦‚å±æ€§åä¸ºURLï¼Œæ–¹æ³•æ˜¯getURL/setURLã€‚</p>
<p>3ã€å¦‚æœé¦–å­—æ¯å¤§å†™ï¼Œä¹Ÿæ˜¯å±æ€§åç›´æ¥ç”¨ä½œ getter/setter æ–¹æ³•ä¸­ get/set çš„åéƒ¨åˆ†ã€‚ä¾‹å¦‚å±æ€§åä¸ºNameï¼Œæ–¹æ³•æ˜¯getName/setNameï¼Œè¿™ç§æ˜¯æœ€ç³Ÿç³•çš„æƒ…å†µï¼Œä¼šæ‰¾ä¸åˆ°å±æ€§å‡ºé”™ï¼Œå› ä¸ºé»˜è®¤çš„å±æ€§åæ˜¯nameã€‚</p>
<p>æ‰€ä»¥Lombokç”Ÿæˆçš„çš„get/setæ–¹æ³•ä¼šå‡ºç°é—®é¢˜ã€‚<br>
è¯¦è§£å¯è§https://www.cnblogs.com/sunTin/p/7172932.html</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java å¸¸ç”¨æ—¶é—´æ¯”è¾ƒæ–¹å¼]]></title>
        <id>https://Eakamm.github.io/post/java-chang-yong-shi-jian-bi-jiao-fang-shi/</id>
        <link href="https://Eakamm.github.io/post/java-chang-yong-shi-jian-bi-jiao-fang-shi/">
        </link>
        <updated>2020-10-19T08:23:13.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ¬æ–‡å°†æè¿°åœ¨javaä¸­è¿›è¡Œæ—¥æœŸæ—¶é—´æ¯”è¾ƒçš„4ç§æ–¹æ³•</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ¬æ–‡å°†æè¿°åœ¨javaä¸­è¿›è¡Œæ—¥æœŸæ—¶é—´æ¯”è¾ƒçš„4ç§æ–¹æ³•</p>
<!-- more -->
<p><a href="https://c.lanmit.com/bianchengkaifa/Java/59964.html">æœ¬æ–‡åœ°å€ï¼š</a><br>
&gt; æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [c.lanmit.com](https://c.lanmit.com/bianchengkaifa/Java/59964.html)</p>
<p>æœ¬æ–‡å°†ä¸ºæ‚¨æè¿°åœ¨ java ä¸­è¿›è¡Œæ—¥æœŸæ—¶é—´æ¯”è¾ƒçš„ 4 ç§æ–¹æ³•, æ•™ç¨‹æ“ä½œæ­¥éª¤:</p>
<p>1. Date.compareToï¼ˆï¼‰</p>
<p><code>java.util.Date</code>æä¾›äº†åœ¨ Java ä¸­æ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸçš„ç»å…¸æ–¹æ³• compareToï¼ˆï¼‰ã€‚</p>
<p>å¦‚æœä¸¤ä¸ªæ—¥æœŸç›¸ç­‰ï¼Œåˆ™è¿”å›å€¼ä¸º 0ã€‚ å¦‚æœ Date åœ¨ date å‚æ•°ä¹‹åï¼Œåˆ™è¿”å›å€¼å¤§äº 0ã€‚ å¦‚æœ Date åœ¨ date å‚æ•°ä¹‹å‰ï¼Œåˆ™è¿”å›å€¼å°äº 0ã€‚</p>
<pre><code>@Test
void testDateCompare() throws ParseException {
  SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
  Date date1 = sdf.parse(&quot;2009-12-31&quot;);
  Date date2 = sdf.parse(&quot;2019-01-31&quot;);

  System.out.println(&quot;date1 : &quot; + sdf.format(date1));
  System.out.println(&quot;date2 : &quot; + sdf.format(date2));

  if (date1.compareTo(date2) &gt; 0) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å&quot;);
  } else if (date1.compareTo(date2) &lt; 0) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰&quot;);
  } else if (date1.compareTo(date2) == 0) {
    System.out.println(&quot;Date1 æ—¶é—´ä¸ Date2 ç›¸ç­‰&quot;);
  } else {
    System.out.println(&quot;ç¨‹åºæ€ä¹ˆä¼šè¿è¡Œåˆ°è¿™é‡Œ?æ­£å¸¸åº”è¯¥ä¸ä¼š&quot;);
  }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>date1 : 2009-12-31
date2 : 2019-01-31
Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰
</code></pre>
<p>2. Date.beforeï¼ˆï¼‰ï¼ŒDate.afterï¼ˆï¼‰å’Œ Date.equalsï¼ˆï¼‰</p>
<p>ä¸€ç§è¯­ä¹‰ä¸Šæ¯”è¾ƒå‹å¥½çš„æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ª<code>java.util.Date</code></p>
<pre><code>@Test
void testDateCompare2() throws ParseException {
  SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
  Date date1 = sdf.parse(&quot;2009-12-31&quot;);
  Date date2 = sdf.parse(&quot;2019-01-31&quot;);

  System.out.println(&quot;date1 : &quot; + sdf.format(date1));
  System.out.println(&quot;date2 : &quot; + sdf.format(date2));

  if (date1.after(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å&quot;);
  }

  if (date1.before(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰&quot;);
  }

  if (date1.equals(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´ä¸ Date2 ç›¸ç­‰&quot;);
  }
}
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<pre><code>date1 : 2009-12-31
date2 : 2019-01-31
Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰
</code></pre>
<p>3. Calender.beforeï¼ˆï¼‰ï¼ŒCalender.afterï¼ˆï¼‰å’Œ Calender.equalsï¼ˆï¼‰</p>
<p>ä½¿ç”¨<code>java.util.Calendar</code>æ¯”è¾ƒä¸¤ä¸ª Date æ—¥æœŸ</p>
<pre><code>@Test
void testDateCompare3() throws ParseException {
  SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
  Date date1 = sdf.parse(&quot;2009-12-31&quot;);
  Date date2 = sdf.parse(&quot;2019-01-31&quot;);

  System.out.println(&quot;date1 : &quot; + sdf.format(date1));
  System.out.println(&quot;date2 : &quot; + sdf.format(date2));

  Calendar cal1 = Calendar.getInstance();
  Calendar cal2 = Calendar.getInstance();
  cal1.setTime(date1);
  cal2.setTime(date2);

  if (cal1.after(cal2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å&quot;);
  }

  if (cal1.before(cal2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰&quot;);
  }

  if (cal1.equals(cal2)) {
    System.out.println(&quot;Date1 æ—¶é—´ä¸ Date2 ç›¸ç­‰&quot;);
  }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>date1 : 2009-12-31
date2 : 2019-01-31
Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰
</code></pre>
<p>4. Java 8 æ—¥æœŸæ¯”è¾ƒæ–¹æ³•</p>
<p>åœ¨ Java 8 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ–°çš„ isBeforeï¼ˆï¼‰ï¼ŒisAfterï¼ˆï¼‰ï¼ŒisEqualï¼ˆï¼‰å’Œ compareToï¼ˆï¼‰æ¥æ¯”è¾ƒ LocalDateï¼ŒLocalTime å’Œ LocalDateTimeã€‚ä»¥ä¸‹ç¤ºä¾‹ä»¥æ¯”è¾ƒä¸¤ä¸ª<code>java.time.LocalDate</code></p>
<pre><code>@Test
void testDateCompare4() throws ParseException {
  DateTimeFormatter sdf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);
  LocalDate date1 = LocalDate.of(2009, 12, 31);
  LocalDate date2 = LocalDate.of(2019, 1, 31);

  System.out.println(&quot;date1 : &quot; + sdf.format(date1));
  System.out.println(&quot;date2 : &quot; + sdf.format(date2));

  System.out.println(&quot;Is...&quot;);
  if (date1.isAfter(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å&quot;);
  }

  if (date1.isBefore(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰&quot;);
  }

  if (date1.isEqual(date2)) {
    System.out.println(&quot;Date1 æ—¶é—´ä¸ Date2 ç›¸ç­‰&quot;);
  }
}
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<pre><code>date1 : 2009-12-31
date2 : 2019-01-31
Is...
Date1 æ—¶é—´åœ¨ Date2 ä¹‹å‰
</code></pre>
<p>æœ¬æ–‡åœ°å€ï¼šhttps://c.lanmit.com/bianchengkaifa/Java/59964.html</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sqlçª—å£å‡½æ•°--æ’åé—®é¢˜]]></title>
        <id>https://Eakamm.github.io/post/sql-chuang-kou-han-shu-pai-ming-wen-ti/</id>
        <link href="https://Eakamm.github.io/post/sql-chuang-kou-han-shu-pai-ming-wen-ti/">
        </link>
        <updated>2020-10-19T01:02:00.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-mysql">select *,
   rank() over (order by æˆç»© desc) as ranking,
   dense_rank() over (order by æˆç»© desc) as dese_rank,
   row_number() over (order by æˆç»© desc) as row_num
from ç­çº§
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringBootä¸Quartzæ•´åˆ]]></title>
        <id>https://Eakamm.github.io/post/springboot-yu-quartz-zheng-he/</id>
        <link href="https://Eakamm.github.io/post/springboot-yu-quartz-zheng-he/">
        </link>
        <updated>2020-10-09T08:16:59.000Z</updated>
        <summary type="html"><![CDATA[<p>Quartz æ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚: å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚è®°å½•ä¸€ä¸‹ä¸SpringBootæ•´åˆçš„è¿‡ç¨‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>Quartz æ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚: å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚è®°å½•ä¸€ä¸‹ä¸SpringBootæ•´åˆçš„è¿‡ç¨‹ã€‚</p>
<!-- more -->
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Quartzä½œä¸šè°ƒåº¦]]></title>
        <id>https://Eakamm.github.io/post/quartz-zuo-ye-diao-du/</id>
        <link href="https://Eakamm.github.io/post/quartz-zuo-ye-diao-du/">
        </link>
        <updated>2020-10-09T00:49:44.000Z</updated>
        <summary type="html"><![CDATA[<p>Quartzæ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚:å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>Quartzæ˜¯ä¸€ä¸ªå¾ˆç‰›çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å®ç°è¯¸å¦‚:å®šæ—¶æ´»åŠ¨ã€å»¶æ—¶æ´»åŠ¨ã€è®¢å•çŠ¶æ€å»¶æ—¶æ£€æµ‹ã€æœåŠ¡å™¨çŠ¶æ€å®šæ—¶æ£€æµ‹ç­‰ï¼Œæ—¶é—´è°ƒåº¦ä»»åŠ¡åŠŸèƒ½ã€‚</p>
<!-- more -->
<h2 id="ä¸€-ä»€ä¹ˆæ˜¯-quartz">ä¸€ã€ä»€ä¹ˆæ˜¯ Quartz</h2>
<p>ä»€ä¹ˆæ˜¯ Quartz?</p>
<blockquote>
<p>Quartz æ˜¯ OpenSymphony å¼€æºç»„ç»‡åœ¨ Job scheduling é¢†åŸŸåˆä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®Œå…¨ç”± Java å¼€å‘ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œç±»ä¼¼äº java.util.Timerã€‚ä½†æ˜¯ç›¸è¾ƒäº Timerï¼Œ Quartz å¢åŠ äº†å¾ˆå¤šåŠŸèƒ½ï¼š</p>
<ul>
<li>æŒä¹…æ€§ä½œä¸š - å°±æ˜¯ä¿æŒè°ƒåº¦å®šæ—¶çš„çŠ¶æ€;</li>
<li>ä½œä¸šç®¡ç† - å¯¹è°ƒåº¦ä½œä¸šè¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†;</li>
</ul>
</blockquote>
<p>å¤§éƒ¨åˆ†å…¬å¸éƒ½ä¼šç”¨åˆ°å®šæ—¶ä»»åŠ¡è¿™ä¸ªåŠŸèƒ½ã€‚<br>
æ‹¿ç«è½¦ç¥¨è´­ç¥¨æ¥è¯´ï¼Œå½“ä½ ä¸‹å•åï¼Œåå°å°±ä¼šæ’å…¥ä¸€æ¡å¾…æ”¯ä»˜çš„ task(job)ï¼Œä¸€èˆ¬æ˜¯ 30 åˆ†é’Ÿï¼Œè¶…è¿‡ 30min åå°±ä¼šæ‰§è¡Œè¿™ä¸ª jobï¼Œå»åˆ¤æ–­ä½ æ˜¯å¦æ”¯ä»˜ï¼Œæœªæ”¯ä»˜å°±ä¼šå–æ¶ˆæ­¤æ¬¡è®¢å•ï¼›å½“ä½ æ”¯ä»˜å®Œæˆä¹‹åï¼Œåå°æ‹¿åˆ°æ”¯ä»˜å›è°ƒåå°±ä¼šå†æ’å…¥ä¸€æ¡å¾…æ¶ˆè´¹çš„ taskï¼ˆjobï¼‰ï¼ŒJob è§¦å‘æ—¥æœŸä¸ºç«è½¦ç¥¨ä¸Šçš„å‡ºå‘æ—¥æœŸï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±ä¼šæ‰§è¡Œè¿™ä¸ª jobï¼Œåˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç­‰ã€‚</p>
<p>åœ¨æˆ‘ä»¬å®é™…çš„é¡¹ç›®ä¸­ï¼Œå½“ Job è¿‡å¤šçš„æ—¶å€™ï¼Œè‚¯å®šä¸èƒ½äººå·¥å»æ“ä½œï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå¸®æˆ‘ä»¬è‡ªåŠ¨å»æ‰§è¡Œè¿™äº›ç¨‹åºã€‚é‚£ä¹ˆè¯¥å¦‚ä½•å®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰å®ç°ä¸€ä¸ªå®šæ—¶åŠŸèƒ½çš„æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º Taskï¼ˆæˆ– Jobï¼‰ï¼Œå¦‚å®šæ—¶å‘é€é‚®ä»¶çš„ taskï¼ˆJobï¼‰ï¼Œé‡å¯æœºå™¨çš„ taskï¼ˆJobï¼‰ï¼Œä¼˜æƒ åˆ¸åˆ°æœŸå‘é€çŸ­ä¿¡æé†’çš„ taskï¼ˆJobï¼‰ï¼Œå®ç°æ¥å£å¦‚ä¸‹ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135410275?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ2ï¼‰æœ‰äº†ä»»åŠ¡ä¹‹åï¼Œè¿˜éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå®ç°è§¦å‘ä»»åŠ¡å»æ‰§è¡Œçš„è§¦å‘å™¨ï¼Œè§¦å‘å™¨ Trigger æœ€åŸºæœ¬çš„åŠŸèƒ½æ˜¯æŒ‡å®š Job çš„æ‰§è¡Œæ—¶é—´ï¼Œæ‰§è¡Œé—´éš”ï¼Œè¿è¡Œæ¬¡æ•°ç­‰ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135421739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ3ï¼‰æœ‰äº† Job å’Œ Trigger åï¼Œæ€ä¹ˆæ ·å°†ä¸¤è€…ç»“åˆèµ·æ¥å‘¢ï¼Ÿå³æ€æ ·æŒ‡å®š Trigger å»æ‰§è¡ŒæŒ‡å®šçš„ Job å‘¢ï¼Ÿè¿™æ—¶éœ€è¦ä¸€ä¸ª Scheduleï¼Œæ¥è´Ÿè´£è¿™ä¸ªåŠŸèƒ½çš„å®ç°ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135431806?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ä¸Šé¢ä¸‰ä¸ªéƒ¨åˆ†å°±æ˜¯ Quartz çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>è°ƒåº¦å™¨ï¼šScheduler</li>
<li>ä»»åŠ¡ï¼šJobDetail</li>
<li>è§¦å‘å™¨ï¼šTriggerï¼ŒåŒ…æ‹¬ SimpleTrigger å’Œ CronTrigger</li>
</ul>
<h2 id="äºŒ-quartz-demo-æ­å»º">äºŒã€Quartz Demo æ­å»º</h2>
<p>ä¸‹é¢æ¥åˆ©ç”¨ Quartz æ­å»ºä¸€ä¸ªæœ€åŸºæœ¬çš„ Demoã€‚<br>
1ã€å¯¼å…¥ä¾èµ–çš„ jar åŒ…ï¼š</p>
<pre><code class="language-xml">&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;
    &lt;artifactId&gt;quartz&lt;/artifactId&gt;
    &lt;version&gt;2.3.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>2ã€æ–°å»ºä¸€ä¸ªèƒ½å¤Ÿæ‰“å°ä»»æ„å†…å®¹çš„ Jobï¼š</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 16:28.
 * Description: æ‰“å°ä»»æ„å†…å®¹
 */
public class PrintWordsJob implements Job{

    @Override
    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {
        String printTime = new SimpleDateFormat(&quot;yy-MM-dd HH-mm-ss&quot;).format(new Date());
        System.out.println(&quot;PrintWordsJob start at:&quot; + printTime + &quot;, prints: Hello Job-&quot; + new Random().nextInt(100));

    }
}
</code></pre>
<p>3ã€åˆ›å»º Scheduleï¼Œæ‰§è¡Œä»»åŠ¡ï¼š</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 16:31.
 * Description: XXX
 */
public class MyScheduler {

    public static void main(String\[\] args) throws SchedulerException, InterruptedException {
        // 1ã€åˆ›å»ºè°ƒåº¦å™¨Scheduler
        SchedulerFactory schedulerFactory = new StdSchedulerFactory();
        Scheduler scheduler = schedulerFactory.getScheduler();
        // 2ã€åˆ›å»ºJobDetailå®ä¾‹ï¼Œå¹¶ä¸PrintWordsJobç±»ç»‘å®š(Jobæ‰§è¡Œå†…å®¹)
        JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)
                                        .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();
        // 3ã€æ„å»ºTriggerå®ä¾‹,æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .withSchedule(SimpleScheduleBuilder.simpleSchedule()
                .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
                .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ

        //4ã€æ‰§è¡Œ
        scheduler.scheduleJob(jobDetail, trigger);
        System.out.println(&quot;--------scheduler start ! ------------&quot;);
        scheduler.start();

        //ç¡çœ 
        TimeUnit.MINUTES.sleep(1);
        scheduler.shutdown();
        System.out.println(&quot;--------scheduler shutdown ! ------------&quot;);


    }
}
</code></pre>
<p>è¿è¡Œç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºæ¯éš” 1s ä¼šæ‰“å°å‡ºå†…å®¹ï¼Œä¸”åœ¨ä¸€åˆ†é’Ÿåç»“æŸï¼š<br>
<img src="https://img-blog.csdn.net/20180710135458277?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<h2 id="ä¸‰-quartz-æ ¸å¿ƒè¯¦è§£">ä¸‰ã€Quartz æ ¸å¿ƒè¯¦è§£</h2>
<p>ä¸‹é¢å°±ç¨‹åºä¸­å‡ºç°çš„å‡ ä¸ªå‚æ•°ï¼Œçœ‹ä¸€ä¸‹ Quartz æ¡†æ¶ä¸­çš„å‡ ä¸ªé‡è¦å‚æ•°ï¼š</p>
<ul>
<li>Job å’Œ JobDetail</li>
<li>JobExecutionContext</li>
<li>JobDataMap</li>
<li>Triggerã€SimpleTriggerã€CronTrigger</li>
</ul>
<p>ï¼ˆ1ï¼‰Job å’Œ JobDetail<br>
Job æ˜¯ Quartz ä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œæ¥å£ä¸‹åªæœ‰ execute æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚<br>
æ¥å£ä¸­çš„æºç ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135513678?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>JobDetail ç”¨æ¥ç»‘å®š Jobï¼Œä¸º Job å®ä¾‹æä¾›è®¸å¤šå±æ€§ï¼š</p>
<ul>
<li>name</li>
<li>group</li>
<li>jobClass</li>
<li>jobDataMap</li>
</ul>
<p>JobDetail ç»‘å®šæŒ‡å®šçš„ Jobï¼Œæ¯æ¬¡ Scheduler è°ƒåº¦æ‰§è¡Œä¸€ä¸ª Job çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šæ‹¿åˆ°å¯¹åº”çš„ Jobï¼Œç„¶ååˆ›å»ºè¯¥ Job å®ä¾‹ï¼Œå†å»æ‰§è¡Œ Job ä¸­çš„ execute() çš„å†…å®¹ï¼Œä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œå…³è”çš„ Job å¯¹è±¡å®ä¾‹ä¼šè¢«é‡Šæ”¾ï¼Œä¸”ä¼šè¢« JVM GC æ¸…é™¤ã€‚</p>
<p>ä¸ºä»€ä¹ˆè®¾è®¡æˆ JobDetail + Jobï¼Œä¸ç›´æ¥ä½¿ç”¨ Job</p>
<blockquote>
<p>JobDetail å®šä¹‰çš„æ˜¯ä»»åŠ¡æ•°æ®ï¼Œè€ŒçœŸæ­£çš„æ‰§è¡Œé€»è¾‘æ˜¯åœ¨ Job ä¸­ã€‚<br>
è¿™æ˜¯å› ä¸ºä»»åŠ¡æ˜¯æœ‰å¯èƒ½å¹¶å‘æ‰§è¡Œï¼Œå¦‚æœ Scheduler ç›´æ¥ä½¿ç”¨ Jobï¼Œå°±ä¼šå­˜åœ¨å¯¹åŒä¸€ä¸ª Job å®ä¾‹å¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚è€Œ JobDetail &amp; Job æ–¹å¼ï¼ŒSheduler æ¯æ¬¡æ‰§è¡Œï¼Œéƒ½ä¼šæ ¹æ® JobDetail åˆ›å»ºä¸€ä¸ªæ–°çš„ Job å®ä¾‹ï¼Œè¿™æ ·å°±å¯ä»¥è§„é¿å¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>ï¼ˆ2ï¼‰JobExecutionContext<br>
JobExecutionContext ä¸­åŒ…å«äº† Quartz è¿è¡Œæ—¶çš„ç¯å¢ƒä»¥åŠ Job æœ¬èº«çš„è¯¦ç»†æ•°æ®ä¿¡æ¯ã€‚<br>
å½“ Schedule è°ƒåº¦æ‰§è¡Œä¸€ä¸ª Job çš„æ—¶å€™ï¼Œå°±ä¼šå°† JobExecutionContext ä¼ é€’ç»™è¯¥ Job çš„ execute() ä¸­ï¼ŒJob å°±å¯ä»¥é€šè¿‡ JobExecutionContext å¯¹è±¡è·å–ä¿¡æ¯ã€‚<br>
ä¸»è¦ä¿¡æ¯æœ‰ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135537517?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ï¼ˆ3ï¼‰JobExecutionContext<br>
JobDataMap å®ç°äº† JDK çš„ Map æ¥å£ï¼Œå¯ä»¥ä»¥ Key-Value çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚<br>
JobDetailã€Trigger éƒ½å¯ä»¥ä½¿ç”¨ JobDataMap æ¥è®¾ç½®ä¸€äº›å‚æ•°æˆ–ä¿¡æ¯ï¼Œ<br>
Job æ‰§è¡Œ execute() æ–¹æ³•çš„æ—¶å€™ï¼ŒJobExecutionContext å¯ä»¥è·å–åˆ° JobExecutionContext ä¸­çš„ä¿¡æ¯ï¼š<br>
å¦‚ï¼š</p>
<pre><code class="language-java">JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)                        .usingJobData(&quot;jobDetail1&quot;, &quot;è¿™ä¸ªJobç”¨æ¥æµ‹è¯•çš„&quot;)
                  .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();

 Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
      .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
      .startNow()//ç«‹å³ç”Ÿæ•ˆ
      .withSchedule(SimpleScheduleBuilder.simpleSchedule()
      .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
      .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ
</code></pre>
<p>Job æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥è·å–åˆ°è¿™äº›å‚æ•°ä¿¡æ¯ï¼š</p>
<pre><code class="language-java">@Override
    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {

        System.out.println(jobExecutionContext.getJobDetail().getJobDataMap().get(&quot;jobDetail1&quot;));
        System.out.println(jobExecutionContext.getTrigger().getJobDataMap().get(&quot;trigger1&quot;));
        String printTime = new SimpleDateFormat(&quot;yy-MM-dd HH-mm-ss&quot;).format(new Date());
        System.out.println(&quot;PrintWordsJob start at:&quot; + printTime + &quot;, prints: Hello Job-&quot; + new Random().nextInt(100));


    }
</code></pre>
<p>ï¼ˆ4ï¼‰Triggerã€SimpleTriggerã€CronTrigger</p>
<ul>
<li><strong>Trigger</strong></li>
</ul>
<p>Trigger æ˜¯ Quartz çš„è§¦å‘å™¨ï¼Œä¼šå»é€šçŸ¥ Scheduler ä½•æ—¶å»æ‰§è¡Œå¯¹åº” Jobã€‚</p>
<pre><code>new Trigger().startAt():è¡¨ç¤ºè§¦å‘å™¨é¦–æ¬¡è¢«è§¦å‘çš„æ—¶é—´;
new Trigger().endAt():è¡¨ç¤ºè§¦å‘å™¨ç»“æŸè§¦å‘çš„æ—¶é—´;
</code></pre>
<ul>
<li><strong>SimpleTrigger</strong><br>
SimpleTrigger å¯ä»¥å®ç°åœ¨ä¸€ä¸ªæŒ‡å®šæ—¶é—´æ®µå†…æ‰§è¡Œä¸€æ¬¡ä½œä¸šä»»åŠ¡æˆ–ä¸€ä¸ªæ—¶é—´æ®µå†…å¤šæ¬¡æ‰§è¡Œä½œä¸šä»»åŠ¡ã€‚<br>
ä¸‹é¢çš„ç¨‹åºå°±å®ç°äº†ç¨‹åºè¿è¡Œ 5s åå¼€å§‹æ‰§è¡Œ Jobï¼Œæ‰§è¡Œ Job 5s åç»“æŸæ‰§è¡Œï¼š</li>
</ul>
<pre><code>Date startDate = new Date();
startDate.setTime(startDate.getTime() + 5000);

 Date endDate = new Date();
 endDate.setTime(startDate.getTime() + 5000);

        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .startAt(startDate)
                .endAt(endDate)
                .withSchedule(SimpleScheduleBuilder.simpleSchedule()
                .withIntervalInSeconds(1)//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
                .repeatForever()).build();//ä¸€ç›´æ‰§è¡Œ
</code></pre>
<ul>
<li><strong>CronTrigger</strong></li>
</ul>
<p>CronTrigger åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæ˜¯åŸºäºæ—¥å†çš„ä½œä¸šè°ƒåº¦ï¼Œè€Œ SimpleTrigger æ˜¯ç²¾å‡†æŒ‡å®šé—´éš”ï¼Œæ‰€ä»¥ç›¸æ¯” SimpleTriggerï¼ŒCroTrigger æ›´åŠ å¸¸ç”¨ã€‚CroTrigger æ˜¯åŸºäº Cron è¡¨è¾¾å¼çš„ï¼Œå…ˆäº†è§£ä¸‹ Cron è¡¨è¾¾å¼ï¼š<br>
ç”± 7 ä¸ªå­è¡¨è¾¾å¼ç»„æˆå­—ç¬¦ä¸²çš„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>[ç§’] [åˆ†] [å°æ—¶] [æ—¥] [æœˆ] [å‘¨] [å¹´]</p>
</blockquote>
<p>Cron è¡¨è¾¾å¼çš„è¯­æ³•æ¯”è¾ƒå¤æ‚ï¼Œ<br>
å¦‚ï¼š* 30 10 ? * 1/5 *<br>
è¡¨ç¤ºï¼ˆä»åå¾€å‰çœ‹ï¼‰<br>
[æŒ‡å®šå¹´ä»½] çš„ [ å‘¨ä¸€åˆ°å‘¨äº”][æŒ‡å®šæœˆ][ä¸æŒ‡å®šæ—¥][ä¸Šåˆ 10 æ—¶][30 åˆ†][æŒ‡å®šç§’]</p>
<p>åˆå¦‚ï¼š00 00 00 ï¼Ÿ * 10,11,12 1#5 2018<br>
è¡¨ç¤º 2018 å¹´ 10ã€11ã€12 æœˆçš„ç¬¬ä¸€å‘¨çš„æ˜ŸæœŸäº”è¿™ä¸€å¤©çš„ 0 æ—¶ 0 åˆ† 0 ç§’å»æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>ä¸‹é¢æ˜¯ç»™çš„ä¸€ä¸ªä¾‹å­ï¼š<br>
<img src="https://img-blog.csdn.net/20180710135615747?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>å¯é€šè¿‡åœ¨çº¿ç”Ÿæˆ Cron è¡¨è¾¾å¼çš„å·¥å…·ï¼š<a href="http://cron.qqe2.com/">http://cron.qqe2.com/</a> æ¥ç”Ÿæˆè‡ªå·±æƒ³è¦çš„è¡¨è¾¾å¼ã€‚<br>
<img src="https://img-blog.csdn.net/20180710135623995?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25vYW1hbl93Z3M=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" loading="lazy"></p>
<p>ä¸‹é¢çš„ä»£ç å°±å®ç°äº†æ¯å‘¨ä¸€åˆ°å‘¨äº”ä¸Šåˆ 10:30 æ‰§è¡Œå®šæ—¶ä»»åŠ¡</p>
<pre><code class="language-java">/**
 * Created by wanggenshen
 * Date: on 2018/7/7 20:06.
 * Description: XXX
*/
public class MyScheduler2 {
    public static void main(String\[\] args) throws SchedulerException, InterruptedException {
        // 1ã€åˆ›å»ºè°ƒåº¦å™¨Scheduler
        SchedulerFactory schedulerFactory = new StdSchedulerFactory();
        Scheduler scheduler = schedulerFactory.getScheduler();
        // 2ã€åˆ›å»ºJobDetailå®ä¾‹ï¼Œå¹¶ä¸PrintWordsJobç±»ç»‘å®š(Jobæ‰§è¡Œå†…å®¹)
        JobDetail jobDetail = JobBuilder.newJob(PrintWordsJob.class)
                .usingJobData(&quot;jobDetail1&quot;, &quot;è¿™ä¸ªJobç”¨æ¥æµ‹è¯•çš„&quot;)
                .withIdentity(&quot;job1&quot;, &quot;group1&quot;).build();
        // 3ã€æ„å»ºTriggerå®ä¾‹,æ¯éš”1sæ‰§è¡Œä¸€æ¬¡
        Date startDate = new Date();
        startDate.setTime(startDate.getTime() + 5000);

        Date endDate = new Date();
        endDate.setTime(startDate.getTime() + 5000);

        CronTrigger cronTrigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger1&quot;, &quot;triggerGroup1&quot;)
                .usingJobData(&quot;trigger1&quot;, &quot;è¿™æ˜¯jobDetail1çš„trigger&quot;)
                .startNow()//ç«‹å³ç”Ÿæ•ˆ
                .startAt(startDate)
                .endAt(endDate)
                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;\* 30 10 ? \* 1/5 2018&quot;))
                .build();

        //4ã€æ‰§è¡Œ
        scheduler.scheduleJob(jobDetail, cronTrigger);
        System.out.println(&quot;--------scheduler start ! ------------&quot;);
        scheduler.start();
        System.out.println(&quot;--------scheduler shutdown ! ------------&quot;);

    }
}
</code></pre>
<hr>
<p>2018/07/07 20:10 in SH.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringBootä½¿ç”¨GetMappingæ—¶å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡çš„å±æ€§ä¸å¯ä»¥_å¼€å¤´]]></title>
        <id>https://Eakamm.github.io/post/springboot-shi-yong-getmapping-shi-dui-xiang-zuo-wei-can-shu-dui-xiang-de-shu-xing-bu-ke-yi-_-kai-tou/</id>
        <link href="https://Eakamm.github.io/post/springboot-shi-yong-getmapping-shi-dui-xiang-zuo-wei-can-shu-dui-xiang-de-shu-xing-bu-ke-yi-_-kai-tou/">
        </link>
        <updated>2020-09-28T03:35:16.000Z</updated>
        <summary type="html"><![CDATA[<p>SpringBootä½¿ç”¨GetMappingæ—¶ä»¥å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡çš„å±æ€§ä¸å¯ä»¥_å¼€å¤´ï¼Œåœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°è§£é‡Šã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>SpringBootä½¿ç”¨GetMappingæ—¶ä»¥å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡çš„å±æ€§ä¸å¯ä»¥_å¼€å¤´ï¼Œåœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°è§£é‡Šã€‚</p>
<!-- more -->
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[jsä¸­è·³å‡ºforEachå¾ªç¯]]></title>
        <id>https://Eakamm.github.io/post/js-zhong-tiao-chu-foreach-xun-huan/</id>
        <link href="https://Eakamm.github.io/post/js-zhong-tiao-chu-foreach-xun-huan/">
        </link>
        <updated>2020-09-27T07:08:57.000Z</updated>
        <summary type="html"><![CDATA[<p>åœ¨ä½¿ç”¨forEachä¸­éœ€è¦åœ¨å¤„ç†åè·³å‡ºå¾ªç¯ï¼Œreturnå’Œbreakéƒ½æ— æ³•è·³å‡ºã€‚ç»è¿‡æŸ¥æ‰¾èµ„æ–™åï¼Œæˆ‘æ‰¾åˆ°äº†ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°è·³å‡ºå¾ªç¯ã€‚å½“ç„¶å¯ä»¥ä½¿ç”¨forå¾ªç¯ç›´æ¥è§£å†³ğŸŒ¸ğŸ”</p>
]]></summary>
        <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨forEachä¸­éœ€è¦åœ¨å¤„ç†åè·³å‡ºå¾ªç¯ï¼Œreturnå’Œbreakéƒ½æ— æ³•è·³å‡ºã€‚ç»è¿‡æŸ¥æ‰¾èµ„æ–™åï¼Œæˆ‘æ‰¾åˆ°äº†ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°è·³å‡ºå¾ªç¯ã€‚å½“ç„¶å¯ä»¥ä½¿ç”¨forå¾ªç¯ç›´æ¥è§£å†³ğŸŒ¸ğŸ”</p>
<!-- more -->
<h2 id="1-ä½¿ç”¨trycatchæ•è·å¼‚å¸¸å®ç°">1ã€ä½¿ç”¨tryÂ·Â·Â·catchæ•è·å¼‚å¸¸å®ç°</h2>
<pre><code class="language-javascript">try{
var array = [&quot;first&quot;,&quot;second&quot;,&quot;third&quot;,&quot;fourth&quot;];
array.forEach(function(item,index){
	if(item == &quot;third&quot;){
		var a = aaaa;// first second åå°±æŠ¥é”™ï¼Œå°±è·³å‡ºå¾ªç¯äº†
		throw new Error(&quot;ending&quot;);//æŠ¥é”™ï¼Œå°±è·³å‡ºå¾ªç¯
	}else{
		log(item);
	}
})
}catch(e){
	if(e.message == &quot;ending&quot;){
		log(&quot;ç»“æŸäº†&quot;) ;
	}else{
		log(e.message);
	}
}
</code></pre>
<h2 id="2-ä½¿ç”¨arrsomeæˆ–è€…arreveryæ›¿ä»£">2ã€ä½¿ç”¨arr.some()æˆ–è€…arr.every()æ›¿ä»£</h2>
<p>some()å½“å†…éƒ¨return trueæ—¶è·³å‡ºæ•´ä¸ªå¾ªç¯ã€‚<br>
some() æ–¹æ³•æµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡ç”±æä¾›çš„å‡½æ•°å®ç°çš„æµ‹è¯•ã€‚</p>
<pre><code class="language-javascript">var arr = [1,2,3,4,5];
var num = 3;
arr.some(function(v){
	if(v == num) {
        // è¿”å›trueä»£è¡¨æµ‹è¯•é€šè¿‡ï¼Œç»“æŸå¾ªç¯
		return true;
	}
console.log(v);
});
</code></pre>
<p>every()å½“å†…éƒ¨return falseæ—¶è·³å‡ºæ•´ä¸ªå¾ªç¯<br>
every() æ–¹æ³•æµ‹è¯•æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚</p>
<pre><code class="language-javascript">var arr = [1,2,3,4,5];
var num = 3;
arr.every(function(v){
	if(v == num) {
		return false;
	}else{
		console.log(v);
		return true;
	}
});
</code></pre>
]]></content>
    </entry>
</feed>